<div class="neon-container fade-in">
  <div class="glass-card" style="padding: 40px; border-radius: 20px; width: 90%; max-width: 600px;">

    <!-- Заголовок -->
    <h1 class="neon-title" style="text-align:center; margin-bottom: 10px;">
      Комнаты
    </h1>
    <p class="subtitle" style="text-align:center; margin-bottom: 30px;">
      Управление локальными чатами
    </p>

    <!-- Добавление комнаты -->
    <div style="display:flex; justify-content:center; margin-bottom: 20px;">
      <input
        [(ngModel)]="newRoomName"
        class="neon-input"
        placeholder="Название комнаты"
      />
      <button
        class="neon-btn-small"
        style="margin-left:10px;"
        (click)="addRoom()"
      >
        Создать
      </button>
    </div>
    <!-- Добавление комнаты по ссылке -->
    <div style="display:flex; justify-content:center; margin-bottom: 20px;">
      <input
        [(ngModel)]="roomLink"
        class="neon-input"
        placeholder="Вставьте ссылку на комнату /meet/ID"
      />
      <button
        class="neon-btn-small"
        style="margin-left:10px;"
        (click)="addRoomByLink()"
      >
        Добавить
      </button>
    </div>

    <hr class="neon-line" />

    <!-- Список комнат -->
    <div *ngIf="rooms.length === 0" class="text-glow" style="text-align:center; margin-top:20px;">
      Комнат пока нет — создайте первую ✨
    </div>

    <div *ngFor="let room of rooms" class="glass-card fade-in"
         style="margin-top: 20px; padding: 20px; border-radius:16px; cursor:pointer;" (click)="openRoom(room)"
         >

      <h2 class="text-glow" style="margin:0;">
        {{ room.name }}
      </h2>

      <p style="margin: 5px 0 0; color:#b0c4de; font-size:0.9rem;">
        ID: {{ room.id }}
      </p>

      <div style="display:flex; gap:10px; justify-content: flex-end; margin-top:10px;">

        <button
          class="neon-btn-outline"
          style="padding:6px 16px; font-size:0.8rem;"
          (click)="renameRoom(room); $event.stopPropagation();"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
               fill="currentColor" viewBox="0 0 16 16">
            <path d="M12.146.854a.5.5 0 0 1 .708 0l2.292 2.292a.5.5 0 0 1 0 .708l-9.193 9.193a1 1 0 0 1-.435.263l-3.39.965a.25.25 0 0 1-.316-.316l.965-3.39a1 1 0 0 1 .263-.435l9.193-9.193z"/>
            <path d="M11.207 2L3 10.207V13h2.793L14 4.793 11.207 2z"/>
          </svg>
        </button>
        <button
          class="neon-btn-outline"
          style="padding:6px 16px; font-size:0.8rem;"
          (click)="copyRoomLink(room); $event.stopPropagation();"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" viewBox="0 0 16 16">
          <path d="M10 1.5A1.5 1.5 0 0 1 11.5 3v1H4.5V3A1.5 1.5 0 0 1 6 1.5h4z"/>
          <path d="M3 4h10v9.5A1.5 1.5 0 0 1 11.5 15h-7A1.5 1.5 0 0 1 3 13.5V4zm2 2v7.5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V6H5z"/>
        </svg>

        </button>
        <button
          class="neon-btn-outline"
          style="padding:6px 16px; font-size:0.8rem; border-color:#ff5555; color:#ff5555;"
          (click)="deleteRoom(room); $event.stopPropagation();"
        ><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
              fill="currentColor" viewBox="0 0 16 16">
          <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5zm1 2A.5.5 0 0 1 7 7h2a.5.5 0 0 1 0 1H7a.5.5 0 0 1-.5-.5zm1 2a.5.5 0 0 1 .5-.5h0a.5.5 0 0 1 .5.5v.01a.5.5 0 0 1-.5.49h0a.5.5 0 0 1-.5-.49V9.5z"/>
          <path d="M14 3h-3.5l-1-1h-3l-1 1H2v1h12V3zm-1 2H3l1 9.5A1.5 1.5 0 0 0 5.5 16h5a1.5 1.5 0 0 0 1.5-1.5L13 5z"/>
        </svg>

        </button>

      </div>


    </div>

  </div>
</div>
