<div class="container-fluid vh-100 d-flex flex-column bg-light" (click)="onFirstUserAction()">


  <!-- ===== Ð›ÐžÐšÐÐ›Ð¬ÐÐžÐ• Ð’Ð˜Ð”Ð•Ðž (ÑƒÐ³Ð¾Ð») ===== -->
  <div class="position-absolute bottom-0 end-0"
       style="margin-bottom: 10vh; margin-right: 3vh; z-index: 1000">

    <div class="avatar-block glass-card">

      <!-- Ð’Ð¸Ð´ÐµÐ¾ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ -->
      <video
        *ngIf="cam"
        #localVideo
        autoplay
        muted="true"
        playsinline
        class="w-100 h-100">
      </video>

      <!-- Ð’Ð¸Ð´ÐµÐ¾ Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ â€“ Ð¡Ð¢ÐÐ ÐÐ¯ Ð˜ÐšÐžÐÐšÐ -->
      <svg
        *ngIf="!cam"
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        fill="currentColor"
        class="bi bi-person-circle"
        viewBox="0 0 16 16">
        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
        <path fill-rule="evenodd"
              d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7
                 a7 7 0 0 0-5.468 11.37C3.242 11.226
                 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7
                 0 0 0 8 1"/>
      </svg>

    </div>
  </div>

  <!-- ===== ÐžÐ¡ÐÐžÐ’ÐÐÐ¯ Ð—ÐžÐÐ ===== -->
  <div class="call-container flex-fill">

    <div class="video-grid" style="padding-bottom: 1%;padding-top: 1%;"
         [ngStyle]="getGridStyle()">

      <div
        class="video-tile glass-card"
        *ngFor="let p of participants">

        <!-- ===== Ð£Ð§ÐÐ¡Ð¢ÐÐ˜Ðš Ð¡ Ð’Ð˜Ð”Ð•Ðž ===== -->
        <video
          *ngIf="p.hasVideo"
          [appVideoStream]="p.videoStream"
          muted
          autoplay
          playsinline
          class="w-100 h-100">
        </video>

        <!-- ===== Ð£Ð§ÐÐ¡Ð¢ÐÐ˜Ðš Ð‘Ð•Ð— Ð’Ð˜Ð”Ð•Ðž â€” Ð¡Ð¢ÐÐ ÐÐ¯ Ð˜ÐšÐžÐÐšÐ ===== -->
        <div
          *ngIf="!p.hasVideo"
          class="avatar-block d-flex flex-column justify-content-center align-items-center h-100">

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            fill="currentColor"
            class="bi bi-person-circle"
            viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
            <path fill-rule="evenodd"
                  d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7
                     a7 7 0 0 0-5.468 11.37C3.242 11.226
                     4.805 10 8 10s4.757 1.225 5.468 2.37A7 7
                     0 0 0 8 1"/>
          </svg>

          <div class="mt-2 text-muted small">
            {{ p.name || p.id.slice(0, 6) }}
          </div>

        </div>

      </div>
    </div>
  </div>
  <!-- ===== ÐŸÐÐÐ•Ð›Ð¬ Ð£ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯ (Ð¡Ð¢ÐÐ Ð«Ð• Ð˜ÐšÐžÐÐšÐ˜ 1-Ð²-1) ===== -->
  <div class="control-bar glass-bar">

    <!-- ðŸŽ¤ ÐœÐ˜ÐšÐ ÐžÐ¤ÐžÐ -->
    <button class="control-btn glass-btn" (click)="toggleMic()">
      <!-- mic -->
      <svg *ngIf="!mute" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-mic" viewBox="0 0 16 16">
        <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"/>
        <path d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3"/>
      </svg>
      <svg *ngIf="mute" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-mic-mute" viewBox="0 0 16 16">
        <path d="M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4 4 0 0 0 12 8V7a.5.5 0 0 1 1 0zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a5 5 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4m3-9v4.879l-1-1V3a2 2 0 0 0-3.997-.118l-.845-.845A3.001 3.001 0 0 1 11 3"/>
        <path d="m9.486 10.607-.748-.748A2 2 0 0 1 6 8v-.878l-1-1V8a3 3 0 0 0 4.486 2.607m-7.84-9.253 12 12 .708-.708-12-12z"/>
      </svg>
    </button>


    <!-- ðŸ–¥ Ð­ÐšÐ ÐÐ -->
    <button class="control-btn glass-btn" (click)="toggleScreen()">
      <!-- screen on -->
      <svg *ngIf="!share" xmlns="http://www.w3.org/2000/svg"
           width="20" height="20" fill="currentColor"
           class="bi bi-window-fullscreen" viewBox="0 0 16 16">
        <path d="M.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0
               .5.5h15a.5.5 0 0 0 .5-.5v-13a.5.5
               0 0 0-.5-.5z"/>
      </svg>

      <!-- screen off -->
      <svg *ngIf="share" xmlns="http://www.w3.org/2000/svg"
           width="20" height="20" fill="currentColor"
           class="bi bi-x-square" viewBox="0 0 16 16">
        <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0
               2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
      </svg>
    </button>


    <!-- ðŸŽ¥ ÐšÐÐœÐ•Ð Ð -->
    <button class="control-btn glass-btn" (click)="toggleCamera()">
      <!-- cam -->
      <svg *ngIf="cam" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-camera-video" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/>
      </svg>
      <svg *ngIf="!cam" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-camera-video-off" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M10.961 12.365a2 2 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l.714 1H9.5a1 1 0 0 1 1 1v6a1 1 0 0 1-.144.518zM1.428 4.18A1 1 0 0 0 1 5v6a1 1 0 0 0 1 1h5.014l.714 1H2a2 2 0 0 1-2-2V5c0-.675.334-1.272.847-1.634zM15 11.73l-3.5-1.555v-4.35L15 4.269zm-4.407 3.56-10-14 .814-.58 10 14z"/>
      </svg>
    </button>


    <!-- ðŸ”´ Ð’Ð«Ð¥ÐžÐ” -->
    <button class="control-btn end glass-btn" (click)="leave()">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
      </svg>
    </button>

  </div>

</div>
